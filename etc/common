# elrond

ELROND_HOME=${TOPLEVEL:="${ELROND_HOME}"}
ELROND_HOME=$(cd "${ELROND_HOME}"; pwd)
export ELROND_HOME

ELROND_BIN="${ELROND_HOME}"/bin
export ELROND_BIN

ELROND_ETC="${ELROND_HOME}"/etc
export ELROND_ETC

ELROND_LIB="${ELROND_HOME}"/lib
export ELROND_LIB

ELROND_SHARE="${ELROND_HOME}"/share
export ELROND_SHARE

ELROND_SRC="${ELROND_HOME}"/src
export ELROND_SRC

ELROND_VAR="${ELROND_HOME}"/var
export ELROND_VAR

ELROND_ARCHIVE="${ELROND_VAR}"/archive
export ELROND_ARCHIVE

ELROND_DATA="${ELROND_VAR}"/data
export ELROND_DATA

ELROND_DB="${ELROND_VAR}"/db
export ELROND_DB

ELROND_LOG="${ELROND_VAR}"/log
export ELROND_LOG

ELROND_RUN="${ELROND_VAR}"/run
export ELROND_RUN

ELROND_WWW="${ELROND_VAR}"/www
export ELROND_WWW

ELROND_CONFIGUREFLAGS="--prefix=${ELROND_HOME}" 
export ELROND_CONFIGUREFLAGS

ELROND_LOGFILE="${ELROND_LOG}"/elrond.log
export ELROND_LOGFILE

elrond_record()
{
        date                    >> "${ELROND_LOGFILE}"
        echo "$@"               >> "${ELROND_LOGFILE}"
}

elrond_recorde()
{
        elrond_record           "$@"
        echo                    "$@"
}

PATH="${ELROND_BIN}":"${PATH}"
export PATH

LD_LIBRARY_PATH="${ELROND_LIB}":"${LD_LIBRARY_PATH}"
export LD_LIBRARY_PATH

PYTHONPATH="${ELROND_LIB}":"${ELROND_LIB}"/python:"${PYTHONPATH}"
export PYTHONPATH

for x in "${ELROND_HOME}"/dist/*.jar "${ELROND_LIB}"/java/*.jar; do
        CLASSPATH="${x}":"${CLASSPATH}"
done

DEPENDS_HOME="${ELROND_SHARE}"
. "${DEPENDS_HOME}"/depends

ELROND_SVNFLAGS=
export ELROND_SVNFLAGS

ELROND_ACLOCALFLAGS="${ACLOCALFLAGS} -I ${DEPENDS_HOME}/aclocal"
export ELROND_ACLOCALFLAGS

ELROND_MAKEFLAGS=
export ELROND_MAKEFLAGS

ELROND_PYTHONFLAGS=
export ELROND_PYTHONFLAGS

ELROND_CLASSPATH="${CLASSPATH}"

JAVA_MODULES="                                                          \
        /usr/share/java/commons-cli.jar                                 \
        /usr/share/java/commons-daemon.jar                              \
        ${NETBEANS_HOME}/java2/modules/ext/AbsoluteLayout.jar           \
        ${NETBEANS_HOME}/platform9/modules/ext/swing-layout-1.0.3.jar   \
        ${NETBEANS_HOME}/platform9/modules/ext/junit-4.5.jar            \
"

for x in ${JAVA_MODULES}; do
        ELROND_CLASSPATH="${x}:${ELROND_CLASSPATH}"
done

export ELROND_CLASSPATH

ELROND_JAVAFLAGS="${JAVAFLAGS} -Delrond.home=${ELROND_HOME} -cp ${ELROND_CLASSPATH} \
	-Djava.util.logging.config.file=${ELROND_ETC}/elrond.properties"
export ELROND_JAVAFLAGS

# extras

ELROND_EXTRAS=" \
"

for x in ${ELROND_EXTRAS}; do
        TOPLEVEL=${ELROND_HOME}/extras/${x}
        . ${TOPLEVEL}/etc/common
done
